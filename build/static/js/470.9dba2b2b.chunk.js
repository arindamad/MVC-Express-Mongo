"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[470],{46598:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var r=a(42982),n=a(70885),l=a(72791),s=a(78983),i=(a(84777),a(16871)),c=(a(93533),a(80184)),o=function(){var e=(0,i.s0)(),t=(0,l.useState)([]),a=(0,n.Z)(t,2),o=a[0],d=a[1],u=(0,l.useState)([]),h=(0,n.Z)(u,2),m=h[0],f=h[1],j=(0,l.useState)([]),p=(0,n.Z)(j,2),v=p[0],x=(p[1],(0,l.useState)([])),b=(0,n.Z)(x,2),g=b[0],S=b[1],_=(0,l.useState)(""),y=(0,n.Z)(_,2),N=y[0],Z=y[1],O=(0,l.useState)({}),P=(0,n.Z)(O,2),T=P[0],w=P[1],C=(0,l.useState)(!0),A=(0,n.Z)(C,2),E=A[0],M=A[1];return(0,l.useEffect)((function(){for(var e=[],t=0;t<48;t++){var a=parseInt(30*t/60,10).toString().padStart(2,"0")+":"+(30*t%60).toString().padEnd(2,"0");e.push({label:a,value:t+1})}S(e),console.log(e),fetch("http://13.233.39.128:5000/api/doctor/list",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d(e.data)}))}),[]),(0,c.jsxs)("div",{className:"addFormGlobal",children:[(0,c.jsx)("h2",{children:"Add Slots"}),(0,c.jsx)(s.lx,{onSubmit:function(t){var a={},r=!1;t.preventDefault();var l=(0,n.Z)(t.target,5),s=l[0],i=l[1],c=(l[2],l[3]),o=l[4],d=JSON.parse(localStorage.getItem("user"));if(s.value||(a.date="Please enter a date.",r=!0),i.value||(a.date="Please enter start date.",r=!0),c.value||(a.date="Please enter Status.",r=!0),o.value||(a.date="Please enter Status.",r=!0),r&&alert("Please enter all value."),!r){var u={doctor:T._id,clinic:d._id,start_time:s.value+"T"+g[i.value-1].label,capacity:o.value,status:c.value};console.log(u),fetch("http://13.233.39.128:5000/api/slot/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(t){200!=t.status&&alert("Something happen wrong."),console.log("Success:",t),t.error||e("/slots")})).catch((function(e){console.error("Error:",e)}))}},children:(0,c.jsxs)(s.rb,{children:[(0,c.jsxs)(s.b7,{lg:"6",children:[!E&&(0,c.jsxs)("div",{className:"",children:[(0,c.jsx)("h4",{children:T.first_name+" "+T.last_name}),(0,c.jsxs)("p",{children:["Uid : ",T.uid]})]}),E&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{children:"Search Doctor"}),(0,c.jsxs)("div",{className:"search_doctor_wrp",children:[(0,c.jsx)(s.jO,{placeholder:"",onKeyUp:function(e){var t=new RegExp("\\b"+e.target.value,"i"),a=o.filter((function(e){return(e.first_name+" "+e.last_name).match(t)}));M(!0),f(a)},defaultValue:""}),(0,c.jsx)("ul",{children:m.map((function(e,t){return(0,c.jsxs)("li",{onClick:function(t){return w(e),void M(!1)},children:[e.first_name," "," "," ",e.last_name]},t)}))})]})]}),(0,c.jsx)("div",{className:"errorMsg",children:v.clinicName})]}),(0,c.jsxs)(s.b7,{lg:"2",children:[(0,c.jsx)("label",{children:"Slot Date"}),(0,c.jsx)(s.jO,{type:"date",name:"date"}),(0,c.jsx)("div",{className:"errorMsg",children:v.registrationNo})]}),(0,c.jsxs)(s.b7,{lg:"2",children:[(0,c.jsx)("label",{children:"Start Time"}),(0,c.jsx)(s.LX,{name:"start_time",options:["Select start time"].concat((0,r.Z)(g)),onChange:function(e){console.log(e.target.value),Z(g[e.target.value].label)}}),(0,c.jsx)("div",{className:"errorMsg",children:v.registrationNo})]}),(0,c.jsxs)(s.b7,{lg:"2",children:[(0,c.jsx)("label",{children:"End Time"}),(0,c.jsx)(s.jO,{placeholder:"",name:"end_time",readOnly:!0,defaultValue:N}),(0,c.jsx)("div",{className:"errorMsg",children:v.clinicPhoneNo})]}),(0,c.jsxs)(s.b7,{lg:"6",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsx)(s.LX,{name:"status",options:["Status ----",{label:"Active",value:"1"},{label:"Inactve",value:"0"}]}),(0,c.jsx)("div",{className:"errorMsg",children:v.last_name})]}),(0,c.jsxs)(s.b7,{lg:"3",children:[(0,c.jsx)("label",{children:"Capacity"}),(0,c.jsx)(s.jO,{placeholder:"",name:"capacity",type:"number"}),(0,c.jsx)("div",{className:"errorMsg",children:v.capacity})]}),(0,c.jsx)(s.b7,{lg:"12",className:"text-center",children:(0,c.jsx)(s.u5,{type:"submit",size:"lg",children:"Add Slots"})})]})})]})}},84777:function(){},42982:function(e,t,a){a.d(t,{Z:function(){return l}});var r=a(30907);var n=a(40181);function l(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,n.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=470.9dba2b2b.chunk.js.map