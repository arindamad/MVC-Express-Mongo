{"version":3,"file":"static/js/406.98b0eda9.chunk.js","mappings":"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","sources":["views/EHR/category/AddEhrCategory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { CButton, CCol, CFormInput, CRow, CForm, CCard, CCardBody, CFormSelect, CFormTextarea } from '@coreui/react'\n\n\nimport { useNavigate } from 'react-router-dom';\n\nconst AddEhrCategory = () => {\n  const [patient, setPatient] = useState([])\n\n  const Navigate = useNavigate()\n  const [doctor, setDoctor] = useState([]);\n  const [error, setError] = useState({});\n\n  const handelSubmit = (e)=>{\n    e.preventDefault();\n    console.log(e);\n    const [category_name, parent_category, short, status, description] = e.target;\n    \n    const data = {\n      name: category_name.value,\n      parent: parent_category.value ? parent_category.value:null,      \n      short_name: short.value,\n      description: description.value,\n      status: status.value,      \n    };\n    const url = process.env.REACT_APP_API_URL+\"report-category/create\";\n    if(!handelValidation(data)){\n      console.log(!handelValidation(data), url)\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      console.log('Success:', data);\n      if(data.status==200){\n        Navigate(\"/ehr/category\");\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n    }\n  }\n  const handelValidation = (arg)=>{\n    const error = {};\n\n    let  hasError = false;\n    if(!arg.name){\n      error.category_name = \"Please enter a Category name.\";\n      hasError = true;\n    }\n    \n    \n    setError(error);\n    console.log(arg, error)\n    return hasError;\n  }\n\n  useEffect(() => {\n     fetch(\"http://13.233.39.128:5000/api/report-category/list\", {\n        method: 'POST', // or 'PUT'\n        headers: {\n            'Content-Type': 'application/json',\n        }\n    }).then(e=>e.json()).then((data)=>{\n        console.log(data);\n        setPatient(data.data);\n    })\n  }, [])\n\n  return (\n    <div className=\"addFormGlobal\">\n      <h2>Add Category</h2>\n      <CCard>\n        <CCardBody className='p-5'>\n        <CForm onSubmit={handelSubmit}> \n        <CRow>\n          <CCol lg=\"6\" className='mb-3'>\n            <label>Category Name</label>\n            <CFormInput placeholder=\"\" name='category_name'/>\n            <div className='errorMsg'>{error.category_name}</div>\n          </CCol>          \n          <CCol lg=\"6\" className='mb-3'>\n            <label>Parent Category</label>\n            <CFormSelect name='parent_category'>\n              <option value={\"\"}>Select---</option>\n              {patient.map((i, key)=>(                \n                <option key={key} value={i._id}>{i.name} ({i.short_name})</option>\n              ))}\n            </CFormSelect>\n            <div className='errorMsg'>{error.parent_category}</div>\n          </CCol>\n          <CCol lg=\"6\" className='mb-3'>\n            <label>Short Name</label>\n            <CFormInput placeholder=\"\" type=\"text\" name='short'/>\n            <div className='errorMsg'>{error.short}</div>\n          </CCol>\n          \n          \n          \n          <CCol lg=\"6\">\n            <label>Status</label>\n            <CFormSelect placeholder=\"\" name='status'>\n              <option value={1}>Active</option>\n              <option value={\"0\"}>Inactive</option>\n            </CFormSelect>\n            <div className='errorMsg'>{error.status}</div>\n          </CCol>\n          <CCol lg=\"12\" className='mb-3'>\n            <label>Category Description</label>\n            <CFormTextarea placeholder=\"\" name='description'/>\n          </CCol>\n          <CCol lg=\"12\" className=\"text-center\">\n            <CButton type='submit' size=\"lg\">Add Category</CButton>\n          </CCol>\n        </CRow>\n      </CForm>\n        </CCardBody>\n      </CCard>\n     \n    </div>\n  )\n}\nexport default AddEhrCategory;\n"],"names":["useState","patient","setPatient","Navigate","useNavigate","error","setError","handelValidation","arg","hasError","name","category_name","console","log","useEffect","fetch","method","headers","then","e","json","data","className","onSubmit","preventDefault","target","parent_category","short","status","description","value","parent","short_name","url","process","body","JSON","stringify","response","catch","lg","placeholder","map","i","key","_id","type","size"],"sourceRoot":""}