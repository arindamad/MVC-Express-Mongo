"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[406],{23372:function(e,a,r){r.r(a);var t=r(70885),s=r(72791),n=r(78983),l=r(16871),c=r(80184);a.default=function(){var e=(0,s.useState)([]),a=(0,t.Z)(e,2),r=a[0],o=a[1],i=(0,l.s0)(),d=(0,s.useState)([]),h=(0,t.Z)(d,2),u=(h[0],h[1],(0,s.useState)({})),m=(0,t.Z)(u,2),j=m[0],p=m[1],x=function(e){var a={},r=!1;return e.name||(a.category_name="Please enter a Category name.",r=!0),p(a),console.log(e,a),r};return(0,s.useEffect)((function(){fetch("http://13.233.39.128:5000/api/report-category/list",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),o(e.data)}))}),[]),(0,c.jsxs)("div",{className:"addFormGlobal",children:[(0,c.jsx)("h2",{children:"Add Category"}),(0,c.jsx)(n.xH,{children:(0,c.jsx)(n.sl,{className:"p-5",children:(0,c.jsx)(n.lx,{onSubmit:function(e){e.preventDefault(),console.log(e);var a=(0,t.Z)(e.target,5),r=a[0],s=a[1],n=a[2],l=a[3],c=a[4],o={name:r.value,parent:s.value?s.value:null,short_name:n.value,description:c.value,status:l.value},d="http://13.233.39.128:5000/api/report-category/create";x(o)||(console.log(!x(o),d),fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),200==e.status&&i("/ehr/category")})).catch((function(e){console.error("Error:",e)})))},children:(0,c.jsxs)(n.rb,{children:[(0,c.jsxs)(n.b7,{lg:"6",className:"mb-3",children:[(0,c.jsx)("label",{children:"Category Name"}),(0,c.jsx)(n.jO,{placeholder:"",name:"category_name"}),(0,c.jsx)("div",{className:"errorMsg",children:j.category_name})]}),(0,c.jsxs)(n.b7,{lg:"6",className:"mb-3",children:[(0,c.jsx)("label",{children:"Parent Category"}),(0,c.jsxs)(n.LX,{name:"parent_category",children:[(0,c.jsx)("option",{value:"",children:"Select---"}),r.map((function(e,a){return(0,c.jsxs)("option",{value:e._id,children:[e.name," (",e.short_name,")"]},a)}))]}),(0,c.jsx)("div",{className:"errorMsg",children:j.parent_category})]}),(0,c.jsxs)(n.b7,{lg:"6",className:"mb-3",children:[(0,c.jsx)("label",{children:"Short Name"}),(0,c.jsx)(n.jO,{placeholder:"",type:"text",name:"short"}),(0,c.jsx)("div",{className:"errorMsg",children:j.short})]}),(0,c.jsxs)(n.b7,{lg:"6",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)(n.LX,{placeholder:"",name:"status",children:[(0,c.jsx)("option",{value:1,children:"Active"}),(0,c.jsx)("option",{value:"0",children:"Inactive"})]}),(0,c.jsx)("div",{className:"errorMsg",children:j.status})]}),(0,c.jsxs)(n.b7,{lg:"12",className:"mb-3",children:[(0,c.jsx)("label",{children:"Category Description"}),(0,c.jsx)(n.PB,{placeholder:"",name:"description"})]}),(0,c.jsx)(n.b7,{lg:"12",className:"text-center",children:(0,c.jsx)(n.u5,{type:"submit",size:"lg",children:"Add Category"})})]})})})})]})}}}]);
//# sourceMappingURL=406.98b0eda9.chunk.js.map