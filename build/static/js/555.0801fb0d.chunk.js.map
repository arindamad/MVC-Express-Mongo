{"version":3,"file":"static/js/555.0801fb0d.chunk.js","mappings":"mSAoKA,UAxIc,WACZ,IAAMA,GAAUC,EAAAA,EAAAA,MAChB,GAAoCC,EAAAA,EAAAA,UAAS,GAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACMC,GAAUC,EAAAA,EAAAA,UACbC,aAAaC,QAAQ,UACtBV,EAAQ,cAIP,KAEI,KACA,KAmDP,OAAQ,iCACN,SAAC,KAAD,CAAUW,IAAKJ,EAASK,KAAMT,EAAYU,UAAU,aAGpD,gBAAKC,UAAU,yDAAf,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAMA,UAAU,yBAAhB,UACE,SAAC,KAAD,CAAMC,GAAI,EAAV,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOD,UAAU,MAAjB,UACE,UAAC,KAAD,YACE,UAAC,KAAD,CAAOE,SA/CF,SAACC,GACpBA,EAAEC,iBACF,cAA6BD,EAAEE,OAA/B,GAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAO,CAAEC,KAAMH,EAASI,MAAOH,SAAUA,EAASG,OAExDlB,GAAW,GACXmB,MAAMC,4CAA6C,CACjDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUT,KAEpBU,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAV,GACJb,aAAa0B,QAAQ,QAAS,oCAC9BC,QAAQC,IAAIf,GAEZb,aAAa0B,QAAQ,OAAQL,KAAKC,UAAUT,EAAKA,OACjDtB,EAAQ,cACRsC,OAAOC,SAASC,YAKjBC,OAAM,SAAAC,GACLN,QAAQM,MAAMA,GACdtC,EAAc,GACdE,GAAW,OAkBD,WACE,mCACA,cAAGQ,UAAU,uBAAb,sCACA,UAAC,KAAD,CAAaA,UAAU,OAAvB,WACE,SAAC,KAAD,WACE,SAAC,IAAD,CAAO6B,KAAMC,EAAAA,OAEf,SAAC,KAAD,CAAYC,YAAY,WAAWC,aAAa,cAElD,UAAC,KAAD,CAAahC,UAAU,OAAvB,WACE,SAAC,KAAD,WACE,SAAC,IAAD,CAAO6B,KAAMI,EAAAA,OAEf,SAAC,KAAD,CACEC,KAAK,WACLH,YAAY,WACZC,aAAa,cAGjB,UAAC,KAAD,YACE,SAAC,KAAD,CAAMG,GAAI,EAAV,UACE,SAAC,KAAD,CAASC,MAAM,UAAUpC,UAAU,OAAOkC,KAAK,SAA/C,sBAIF,SAAC,KAAD,CAAMC,GAAI,EAAGnC,UAAU,aAAvB,UACE,SAAC,KAAD,CAASoC,MAAM,OAAOpC,UAAU,OAAhC,sCAOLT,IAAW,SAAC,KAAD,CAAQ8C,KAAM,KAAMC,YAAY,UAIhD,SAAC,KAAD,CAAOtC,UAAU,6BAA6BuC,MAAO,CAAEC,MAAO,OAA9D,UACE,SAAC,KAAD,CAAWxC,UAAU,cAArB,UACE,4BACE,qCACA,yJAIA,SAAC,KAAD,CAAMyC,GAAG,YAAT,UACE,SAAC,KAAD,CAASL,MAAM,UAAUpC,UAAU,OAAO0C,QAAM,EAACC,UAAW,EAA5D,oD,sDCrJf,IAAMV,EAAgB,CAAC,UAAU","sources":["views/pages/login/Login.js","../node_modules/@coreui/icons/js/free/cil-lock-locked.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport { Link, Navigate, useNavigate } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n  CToastBody,\n  CToastClose,\n  CToaster,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked, cilUser } from '@coreui/icons';\n\nimport {  CToast } from '@coreui/react'\nimport { Loader } from 'src/components';\n\n\n\n\n\nconst Login = () => {\n  const Redrict = useNavigate();\n  const [errorToast, addErrorToast] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const toaster = useRef()\n  if(localStorage.getItem(\"token\")){\n    Redrict(\"/dashboard\")\n  }\n\n  const errorMsg = (\n    <CToast autohide={true} color=\"danger\" className=\"text-white align-items-center\">\n      <div className=\"d-flex\">\n        <CToastBody>Error.</CToastBody>\n        <CToastClose className=\"me-2 m-auto\" white />\n      </div>\n    </CToast>\n  );\n  \n  // const successMsg = (\n  //   <CToast autohide={true} color=\"success\" className=\"text-white align-items-center\">\n  //     <div className=\"d-flex\">\n  //       <CToastBody>Successfully Loggedin.</CToastBody>\n  //       <CToastClose className=\"me-2 m-auto\" white />\n  //     </div>\n  //   </CToast>\n  // );\n  \n  \n  const handelSubmit = (e)=>{\n    e.preventDefault()\n    const [username, password] = e.target;\n   \n    const data = { user: username.value, password: password.value };\n    \n    setLoading(true);\n    fetch(process.env.REACT_APP_API_URL+'admin/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(response => response.json())\n      .then(data => {        \n        localStorage.setItem(\"token\", \"dXNlckBleGFtcGxlLmNvbTpzZWNyZXQ=\");\n        console.log(data)\n        \n        localStorage.setItem(\"user\", JSON.stringify(data.data) );\n        Redrict(\"/dashboard\")\n        window.location.reload();\n       \n        \n        \n      })\n      .catch(error => {\n        console.error(error);\n        addErrorToast(1);\n        setLoading(false);\n\n      });\n\n\n  }\n  \n  return (<>\n    <CToaster ref={toaster} push={errorToast} placement=\"top-end\" />\n\n   \n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={8}>\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm onSubmit={handelSubmit}> \n                    <h1>Login</h1>\n                    <p className=\"text-medium-emphasis\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupText>\n                        <CIcon icon={cilUser} />\n                      </CInputGroupText>\n                      <CFormInput placeholder=\"Username\" autoComplete=\"false\" />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupText>\n                        <CIcon icon={cilLockLocked} />\n                      </CInputGroupText>\n                      <CFormInput\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        autoComplete=\"false\"\n                      />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs={6}>\n                        <CButton color=\"primary\" className=\"px-4\" type='submit'>\n                          Login\n                        </CButton>\n                      </CCol>\n                      <CCol xs={6} className=\"text-right\">\n                        <CButton color=\"link\" className=\"px-0\">\n                          Forgot password?\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n\n                  {loading && <Loader size={'lg'} background={true}></Loader>}\n                  \n                </CCardBody>\n              </CCard>\n              <CCard className=\"text-white bg-primary py-5\" style={{ width: '44%' }}>\n                <CCardBody className=\"text-center\">\n                  <div>\n                    <h2>Sign up</h2>\n                    <p>\n                      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\n                      tempor incididunt ut labore et dolore magna aliqua.\n                    </p>\n                    <Link to=\"/register\">\n                      <CButton color=\"primary\" className=\"mt-3\" active tabIndex={-1}>\n                        Register Now!\n                      </CButton>\n                    </Link>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n    </>)\n}\n\nexport default Login\n","export const cilLockLocked = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>\"]"],"names":["Redrict","useNavigate","useState","errorToast","addErrorToast","loading","setLoading","toaster","useRef","localStorage","getItem","ref","push","placement","className","md","onSubmit","e","preventDefault","target","username","password","data","user","value","fetch","process","method","headers","body","JSON","stringify","then","response","json","setItem","console","log","window","location","reload","catch","error","icon","cilUser","placeholder","autoComplete","cilLockLocked","type","xs","color","size","background","style","width","to","active","tabIndex"],"sourceRoot":""}