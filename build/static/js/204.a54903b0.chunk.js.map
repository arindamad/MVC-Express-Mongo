{"version":3,"file":"static/js/204.a54903b0.chunk.js","mappings":"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","sources":["views/category/Create.js"],"sourcesContent":["import { CButton, CCard, CCardBody, CCol, CForm, CFormInput, CFormLabel, CFormSelect, CFormTextarea, CInputGroup, CInputGroupText, CRow } from '@coreui/react'\nimport React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify'\n\nconst CategoryCreate = () => {\n  const [validated, setValidated] = useState(false);\n  const [category, setCategory] = useState([]);\n  const Navigate = useNavigate();\n  const [selectedImage, setSelectedImage] = useState({});\n\n  const handleImageUpload = (fileInput) => {\n    var formdata = new FormData();\n    formdata.append(\"image\", fileInput.files[0], fileInput.files[0].name);\n    formdata.append(\"type\", \"image\");\n\n    var requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow'\n    };\n\n    fetch(process.env.REACT_APP_API_URL + \"images/add\", requestOptions)\n      .then(response => response.json())\n      .then(result => {console.log(result); setSelectedImage(result.data)})\n      .catch(error => console.log('error', error));\n  };\n\n\n  const handleSubmit = (event) => {\n    const form = event.currentTarget\n    event.preventDefault()\n    if (form.checkValidity() === false) {    \n      event.stopPropagation();\n    }\n    setValidated(true);\n\n\n    const [name, parent, image] = event.target;\n\n\n    var requestOptions = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"name\": name.value,\n        \"parent\": parent.value || null,\n        \"image\": selectedImage._id || null\n      }),\n    };\n\n    fetch(process.env.REACT_APP_API_URL + \"category/create\", requestOptions)\n      .then(response => response.json())\n      .then(result => {\n        if (result.status == 200) {\n          toast.success(result.message);\n          setTimeout(() => {\n            Navigate(\"/category\")\n          }, 5000);\n        } else {\n          toast.error(result.message);\n        }\n      })\n      .catch(error => console.log('error', error));\n    \n  }\n\n  useEffect(() => {\n\n    var requestOptions = { \n      method: 'POST',\n      redirect: 'follow'\n    };\n\n    let url =  process.env.REACT_APP_API_URL+\"category/list\"\n    fetch(url, requestOptions)\n      .then(response => response.json())\n      .then(result => {console.log(result.data); setCategory(result.data) })\n      .catch(error => console.log('error', error));\n\n  }, []);\n\n  return (\n    <>\n      <ToastContainer />\n      <h1 className='headingType1 text-center mb-4'>Add New Category</h1>\n      <CCard>\n        <CCardBody className='p-5'>         \n          <CRow className='justify-content-center'>\n            <CCol lg={12}>\n              <CForm\n                className=\"row g-3 needs-validation\"\n                noValidate\n                validated={validated}\n                onSubmit={handleSubmit}\n              >\n                <CCol md={4}>\n                  <CFormInput\n                    type=\"text\"\n                    defaultValue=\"\"\n                    feedbackInvalid=\"Please enter a Brand Name.\"\n                    id=\"validationCustom01\"\n                    label=\"Category name\"\n                    name='name'\n                    required\n                  />\n                </CCol>\n                <CCol md={4}>\n                <CFormSelect\n                  type=\"text\"\n                  defaultValue=\"\"\n                  feedbackInvalid=\"Please Select Status.\"\n                  id=\"validationCustom02\"\n                  label=\"Parent\"\n                  name='parent'\n                >\n                  <option value={\"\"}>Select Category</option>\n                  {category.map((i, key) => (\n                    <option key={key} value={i._id}>\n                      {i.name}\n                    </option>\n                  ))}\n                </CFormSelect>\n\n                </CCol>\n                <CCol md={4}>\n                  <CFormInput\n                      type='file'\n                      name='uploadImage'\n                      label=\"Upload Image\"\n                      onChange={(i)=>handleImageUpload(i.target)}\n                    >\n                    </CFormInput>\n\n                </CCol>\n                <CCol md={6}>\n                  {/* <CFormSelect\n                    type=\"text\"\n                    defaultValue=\"\"\n                    feedbackInvalid=\"Please Select Status.\"\n                    id=\"validationCustom02\"\n                    label=\"Status\"\n                    name='status'\n                    required\n                  >\n                    <option value={\"1\"}>Active</option>\n                    <option value={\"0\"}>Inactive</option>\n                  </CFormSelect> */}\n                </CCol>\n                <CCol xs={12} className='text-center'>\n                  <CButton color=\"primary\" type=\"submit\" className='py-2 px-5'>\n                    Submit form\n                  </CButton>\n                </CCol>\n\n              </CForm>\n            </CCol>\n          </CRow>\n        </CCardBody>\n      </CCard>\n    </>\n  )\n}\n\nexport default CategoryCreate;\n"],"names":["_useState","useState","_useState2","_slicedToArray","validated","setValidated","_useState3","_useState4","category","setCategory","Navigate","useNavigate","_useState5","_useState6","selectedImage","setSelectedImage","useEffect","fetch","process","method","redirect","then","response","json","result","console","log","data","catch","error","_jsxs","_Fragment","children","_jsx","ToastContainer","className","CCard","CCardBody","CRow","CCol","lg","CForm","noValidate","onSubmit","event","form","currentTarget","preventDefault","checkValidity","stopPropagation","_event$target","target","name","parent","requestOptions","headers","body","JSON","stringify","value","_id","status","toast","success","message","setTimeout","md","CFormInput","type","defaultValue","feedbackInvalid","id","label","required","CFormSelect","map","i","key","onChange","fileInput","formdata","FormData","append","files","handleImageUpload","xs","CButton","color"],"sourceRoot":""}