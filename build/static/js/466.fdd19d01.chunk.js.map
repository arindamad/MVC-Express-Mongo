{"version":3,"file":"static/js/466.fdd19d01.chunk.js","mappings":"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","sources":["views/slots/addSlots.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { CButton, CCol, CFormInput, CRow, CForm, CFormSelect } from '@coreui/react'\n\nimport './slots.scss'\nimport { useNavigate } from 'react-router-dom';\n\nconst AddSlots = () => {\n  const Navigate = useNavigate()\n  const [doctor, setDoctor] = useState([]);\n  const [filterDoctor, setfilterDoctor] = useState([]);\n\n  const [error, setError] = useState([]);\n  const [startTime, setStartTime] = useState([]);\n  const [endTime, setEndTime]=useState('');\n  const [getslectedDoctor, setSlectedDoctor]=useState({});\n  const [autoComplete, setAutoComplete] = useState(true)\n\n  const handelSubmit = (e)=>{\n    e.preventDefault();\n    console.log(e);\n    const [start_time, end_time, status, days, capacity] = e.target;\n    \n    const clinic = JSON.parse(localStorage.getItem(\"user\"));\n\n    const data = {\n      \"doctor\": getslectedDoctor._id,\n      \"clinic\": clinic._id,\n      \"day_name\":days.value,\n      \"start\":startTime[start_time.value-1].label,\n      \"end\":end_time.value,\n      \"capacity\":capacity.value,\n      \"status\":status.value\n    };\n    const url = process.env.REACT_APP_API_URL+\"slot/create\"; \n    \n    console.log(data);\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      console.log('Success:', data);\n     \n      if(!data.error){\n        Navigate(\"/slots\");\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n  }\n  const handelStartTime = (e)=>{\n    console.log(e.target.value);\n    setEndTime(startTime[e.target.value].label);\n  }\n  const searchDoctor = (e)=>{\n    // e.target;\n    let regex = new RegExp('\\\\b' + e.target.value, 'i');\n    let SearchData = doctor.filter(user => (user.first_name+\" \"+user.last_name).match(regex));\n    setAutoComplete(true);\n    setfilterDoctor(SearchData)  \n  }\n  const selectedDoctor = (e)=>{\n    // setfilterDoctor([]);\n    setSlectedDoctor(e);\n    setAutoComplete(false);\n  }\n\n  useEffect(() => {\n    let arr=[];\n    for(let i = 0; i<48;i++){\n      let hoursMin= parseInt((i*30)/60, 10).toString().padStart(2, '0') +':'+(i*30%60).toString().padEnd(2, '0');\n      arr.push({label:hoursMin, value: i+1});\n    }\n    setStartTime(arr);\n    console.log(arr);\n\n    fetch(process.env.REACT_APP_API_URL+\"doctor/list\", {\n        method: 'POST', // or 'PUT'\n        headers: {\n            'Content-Type': 'application/json',\n        }\n    }).then(e=>e.json()).then((data)=>{\n        setDoctor(data.data);\n    })\n\n\n\n\n  }, [])\n\n  return (\n    <div className=\"addFormGlobal\">\n      <h2>Add Slots</h2>\n      <CForm onSubmit={handelSubmit}> \n        <CRow>\n          <CCol lg=\"6\">\n            {!autoComplete&&\n              <div className=''>\n                <h4>{getslectedDoctor.first_name+ \" \"+ getslectedDoctor.last_name}</h4>\n                <p>Uid : {getslectedDoctor.uid}</p>\n              </div>\n            }\n            {autoComplete&&<>\n              <label>Search Doctor</label>\n              <div className='search_doctor_wrp' >\n                <CFormInput placeholder=\"\" onKeyUp={searchDoctor} defaultValue=\"\"/>\n                <ul> \n                  {filterDoctor.map((i,key)=>(\n                    <li onClick={k=>selectedDoctor(i)} key={key}>{i.first_name} {\" \"} {i.last_name}</li>\n                  ))}\n                </ul>              \n              </div>            \n            </>}\n            \n            <div className='errorMsg'>{error.clinicName}</div>\n          </CCol>\n          <CCol lg=\"3\">\n            <label>Start Time</label>\n           \n            <CFormSelect \n              name='start_time'\n              options={[\n                'Select start time',\n                ...startTime\n              ]}\n              onChange={handelStartTime}\n            />\n\n            <div className='errorMsg'>{error.registrationNo}</div>\n          </CCol>\n          <CCol lg=\"3\">\n            <label>End Time</label>\n            <CFormInput placeholder=\"\" name='end_time' readOnly defaultValue={endTime}/>\n            <div className='errorMsg'>{error.clinicPhoneNo}</div>\n          </CCol>\n          \n         \n          \n          <CCol lg=\"6\">\n            <label>Status</label>\n            <CFormSelect  name='status'\n              options={[\n                'Status ----',\n                {label:\"Active\", value:1},\n                {label:\"Inactve\", value:0}\n              ]}\n              \n            />\n            <div className='errorMsg'>{error.last_name}</div>\n          </CCol>\n          <CCol lg=\"6\">\n            <label>Days</label>\n            <CFormSelect  name='days'             \n              options={[\n                'Select days',\n                {label:\"Sunday\", value:\"SUNDAY\"},\n                {label:\"Monday\", value:\"MONDAY\"},\n                {label:\"Tuesday\", value:\"TUESDAY\"},\n                {label:\"Wednesday\", value:\"WEDNESDAY\"},\n                {label:\"Thursday\", value:\"THURSDAY\"},\n                {label:\"Friday\", value:\"FRIDAY\"},\n                {label:\"Saturday\", value:\"SATURDAY\"},\n\n              ]}\n            />\n            <div className='errorMsg'>{error.ownerPhoneNo}</div>\n          </CCol>\n          <CCol lg=\"3\">\n            <label>Capacity</label>\n            <CFormInput placeholder=\"\" name='capacity' type='number' />\n            <div className='errorMsg'>{error.capacity}</div>\n          </CCol>\n          \n          <CCol lg=\"12\" className=\"text-center\">\n            <CButton type='submit' size=\"lg\">Add Slots</CButton>\n          </CCol>\n        </CRow>\n      </CForm>\n    </div>\n  )\n}\nexport default AddSlots\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["Navigate","useNavigate","useState","doctor","setDoctor","filterDoctor","setfilterDoctor","error","startTime","setStartTime","endTime","setEndTime","getslectedDoctor","setSlectedDoctor","autoComplete","setAutoComplete","useEffect","arr","i","hoursMin","parseInt","toString","padStart","padEnd","push","label","value","console","log","fetch","process","method","headers","then","e","json","data","className","onSubmit","preventDefault","target","start_time","end_time","status","days","capacity","clinic","JSON","parse","localStorage","getItem","_id","body","stringify","response","catch","lg","first_name","last_name","uid","placeholder","onKeyUp","regex","RegExp","SearchData","filter","user","match","defaultValue","map","key","onClick","k","clinicName","name","options","onChange","registrationNo","readOnly","clinicPhoneNo","ownerPhoneNo","type","size","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}